<script type="importmap">
{
  "imports": {
    "react/": "https://aistudiocdn.com/react@^19.1.1/",
    "react": "https://aistudiocdn.com/react@^19.1.1",
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.1.1/"
  }
}
</script>
<!DOCTYPE html>
<html lang="en" class="theme-graphite">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CopyNote •ﻌ•</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400;700&display=swap" rel="stylesheet">
    <style>
      :root, .theme-paper {
        --bg-primary: #f1f1f1;
        --bg-secondary: #ffffff;
        --bg-tertiary: #f8f9fa;
        --bg-secondary-alpha: rgba(255, 255, 255, 0.8);
        --bg-hover: rgba(0, 0, 0, 0.05);
        --bg-accent: #fefcbf; /* Light yellow for selection */
        --text-primary: #202124;
        --text-secondary: #5f6368;
        --text-accent: #3c4043;
        --border-color: #dadce0;
        --shadow-color-rgb: 0, 0, 0;
        --accent-color: #fbbc05; /* Google's Yellow */
        --accent-color-rgb: 251, 188, 5;
        --link-color: #1a73e8;
        --blockquote-border: #ccc;
        --blockquote-color: #555;
        --code-bg: #f4f4f4;
        --code-color: #333;
      }
      .theme-sakura {
        --bg-primary: #FFF0F5; /* Lavender Blush */
        --bg-secondary: #ffffff;
        --bg-tertiary: #FFE4E1; /* Misty Rose */
        --bg-secondary-alpha: rgba(255, 255, 255, 0.8);
        --bg-hover: rgba(255, 182, 193, 0.2); /* Light Pink hover */
        --bg-accent: #FFD1DC;
        --text-primary: #581845;
        --text-secondary: #C70039;
        --text-accent: #581845;
        --border-color: #FFB6C1; /* Light Pink */
        --shadow-color-rgb: 211, 84, 0;
        --accent-color: #FF69B4; /* Hot Pink */
        --accent-color-rgb: 255, 105, 180;
        --link-color: #C71585; /* Medium Violet Red */
        --blockquote-border: #FFB6C1;
        --blockquote-color: #C70039;
        --code-bg: #FFE4E1;
        --code-color: #581845;
      }
      .theme-mint {
        --bg-primary: #F0FFF4; /* Honeydew */
        --bg-secondary: #ffffff;
        --bg-tertiary: #E0EEE0; /* Pale Green */
        --bg-secondary-alpha: rgba(255, 255, 255, 0.8);
        --bg-hover: rgba(60, 179, 113, 0.1); /* Medium Sea Green hover */
        --bg-accent: #D4EDDA;
        --text-primary: #004D40;
        --text-secondary: #00695C;
        --text-accent: #004D40;
        --border-color: #98FB98; /* Pale Green */
        --shadow-color-rgb: 0, 105, 92;
        --accent-color: #20C997; /* Medium Aquamarine */
        --accent-color-rgb: 32, 201, 151;
        --link-color: #2E8B57; /* Sea Green */
        --blockquote-border: #98FB98;
        --blockquote-color: #00695C;
        --code-bg: #E0EEE0;
        --code-color: #004D40;
      }
      .theme-canary {
        --bg-primary: #FFFACD; /* Lemon Chiffon */
        --bg-secondary: #ffffff;
        --bg-tertiary: #FAFAD2; /* Light Goldenrod Yellow */
        --bg-secondary-alpha: rgba(255, 255, 255, 0.8);
        --bg-hover: rgba(255, 215, 0, 0.15); /* Gold hover */
        --bg-accent: #FFF59D;
        --text-primary: #5D4037;
        --text-secondary: #795548;
        --text-accent: #5D4037;
        --border-color: #FFEE58;
        --shadow-color-rgb: 121, 85, 72;
        --accent-color: #FFCA28; /* Amber */
        --accent-color-rgb: 255, 202, 40;
        --link-color: #FFA000; /* Orange */
        --blockquote-border: #FFEE58;
        --blockquote-color: #795548;
        --code-bg: #FAFAD2;
        --code-color: #5D4037;
      }
      .theme-aqua {
        --bg-primary: #E0FFFF; /* Light Cyan */
        --bg-secondary: #ffffff;
        --bg-tertiary: #AFEEEE; /* Pale Turquoise */
        --bg-secondary-alpha: rgba(255, 255, 255, 0.8);
        --bg-hover: rgba(0, 206, 209, 0.1); /* Dark Turquoise hover */
        --bg-accent: #B2EBF2;
        --text-primary: #006064;
        --text-secondary: #00838F;
        --text-accent: #006064;
        --border-color: #4DD0E1;
        --shadow-color-rgb: 0, 131, 143;
        --accent-color: #00BCD4; /* Cyan */
        --accent-color-rgb: 0, 188, 212;
        --link-color: #0097A7; /* Darker Cyan */
        --blockquote-border: #4DD0E1;
        --blockquote-color: #00838F;
        --code-bg: #AFEEEE;
        --code-color: #006064;
      }
      .theme-graphite {
        --bg-primary: #202124;
        --bg-secondary: #313235;
        --bg-tertiary: #3c4043;
        --bg-secondary-alpha: rgba(49, 50, 53, 0.8);
        --bg-hover: rgba(255, 255, 255, 0.05);
        --bg-accent: rgba(251, 188, 5, 0.15); /* Yellow accent */
        --text-primary: #e8eaed;
        --text-secondary: #a8b0b6;
        --text-accent: #f8f9fa;
        --border-color: #5f6368;
        --shadow-color-rgb: 0, 0, 0;
        --accent-color: #fbbc05; /* Google's Yellow */
        --accent-color-rgb: 251, 188, 5;
        --link-color: #8ab4f8;
        --blockquote-border: #555;
        --blockquote-color: #aaa;
        --code-bg: #2d2d2d;
        --code-color: #f1f1f1;
      }
      .theme-onyx {
        --bg-primary: #000000;
        --bg-secondary: #1C1C1E;
        --bg-tertiary: #2C2C2E;
        --bg-secondary-alpha: rgba(28, 28, 30, 0.8);
        --bg-hover: rgba(255, 255, 255, 0.1);
        --bg-accent: #3A3A3C;
        --text-primary: #FFFFFF;
        --text-secondary: #98989f;
        --text-accent: #FFFFFF;
        --border-color: #444446;
        --shadow-color-rgb: 0, 0, 0;
        --accent-color: #0A84FF; /* iOS Blue */
        --accent-color-rgb: 10, 132, 255;
        --link-color: #0A84FF;
        --blockquote-border: #444446;
        --blockquote-color: #8E8E93;
        --code-bg: #2C2C2E;
        --code-color: #FFFFFF;
      }
      .theme-midnight {
        --bg-primary: #0a192f;
        --bg-secondary: #172a45;
        --bg-tertiary: #303C55;
        --bg-secondary-alpha: rgba(23, 42, 69, 0.8);
        --bg-hover: rgba(100, 255, 218, 0.1);
        --bg-accent: #303C55;
        --text-primary: #ccd6f6;
        --text-secondary: #a0a8c4;
        --text-accent: #64ffda;
        --border-color: #495670;
        --shadow-color-rgb: 2, 12, 27;
        --accent-color: #64ffda; /* Neon Green */
        --accent-color-rgb: 100, 255, 218;
        --link-color: #64ffda;
        --blockquote-border: #495670;
        --blockquote-color: #8892b0;
        --code-bg: #303C55;
        --code-color: #ccd6f6;
      }
      .theme-sunset {
        --bg-primary: #2c1e33;
        --bg-secondary: #402b4b;
        --bg-tertiary: #5f3f6b;
        --bg-secondary-alpha: rgba(64, 43, 75, 0.8);
        --bg-hover: rgba(253, 106, 2, 0.15);
        --bg-accent: #5f3f6b;
        --text-primary: #f5e3ff;
        --text-secondary: #e0c0ed;
        --text-accent: #ffcc66;
        --border-color: #7c558b;
        --shadow-color-rgb: 44, 30, 51;
        --accent-color: #FD6A02; /* Bright Orange */
        --accent-color-rgb: 253, 106, 2;
        --link-color: #ffcc66; /* Light Gold */
        --blockquote-border: #7c558b;
        --blockquote-color: #d8b8e6;
        --code-bg: #5f3f6b;
        --code-color: #f5e3ff;
      }
      .theme-plum {
        --bg-primary: #1a001a;
        --bg-secondary: #2a002a;
        --bg-tertiary: #3d003d;
        --bg-secondary-alpha: rgba(42, 0, 42, 0.8);
        --bg-hover: rgba(224, 176, 255, 0.15);
        --bg-accent: #3d003d;
        --text-primary: #f0e6f0;
        --text-secondary: #c0a0c0;
        --text-accent: #e0b0ff;
        --border-color: #5c005c;
        --shadow-color-rgb: 26, 0, 26;
        --accent-color: #a040a0; /* Plum Purple */
        --accent-color-rgb: 160, 64, 160;
        --link-color: #d070d0; /* Lighter Plum */
        --blockquote-border: #5c005c;
        --blockquote-color: #c0a0c0;
        --code-bg: #3d003d;
        --code-color: #f0e6f0;
      }

      :root {
        /* Animation System */
        /* Easing Functions for natural motion */
        --ease-decelerate: cubic-bezier(0, 0, 0.2, 1);       /* For elements entering the screen. Standard deceleration. */
        --ease-accelerate: cubic-bezier(0.4, 0, 1, 1);       /* For elements leaving the screen. Standard acceleration. */
        --ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);         /* For elements that change state, like expanding/collapsing. */
        --ease-overshoot: cubic-bezier(0.34, 1.56, 0.64, 1); /* For playful, popping animations. */
        
        /* Durations for a responsive but smooth feel */
        --duration-quick: 150ms;   /* For hover states and instant feedback */
        --duration-medium: 250ms;  /* For modals, toasts, and general UI transitions */
        --duration-long: 350ms;    /* For sidebar and larger layout shifts */
      }
      
      body {
        font-family: 'Roboto', sans-serif;
        background-color: var(--bg-primary);
        transition: background-color 0.3s ease-in-out;
      }
      
      .font-caveat {
        font-family: 'Caveat', cursive;
      }
      /* Disable tap highlight on mobile for a cleaner UX */
      button, a, input, div[role="button"] {
        -webkit-tap-highlight-color: transparent;
      }

      /* --- Animation System --- */
      @keyframes slide-in-up { from { transform: translateY(16px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
      .animate-slide-in-up { animation: slide-in-up var(--duration-medium) var(--ease-decelerate) forwards; }

      @keyframes slide-in-down { from { transform: translateY(-16px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
      .animate-slide-in-down { animation: slide-in-down var(--duration-medium) var(--ease-decelerate) forwards; }

      @keyframes slide-out-up { from { transform: translateY(0); opacity: 1; } to { transform: translateY(-16px); opacity: 0; } }
      .animate-slide-out-up { animation: slide-out-up var(--duration-medium) var(--ease-accelerate) forwards; }
      
      @keyframes slide-out-down { from { transform: translateY(0); opacity: 1; } to { transform: translateY(16px); opacity: 0; } }
      .animate-slide-out-down { animation: slide-out-down var(--duration-medium) var(--ease-accelerate) forwards; }

      @keyframes fade-in { from { opacity: 0; } to { opacity: 1; } }
      .animate-fade-in { animation: fade-in var(--duration-medium) var(--ease-decelerate) forwards; }

      /* A better version of fade-in that adds subtle motion */
      @keyframes fade-scale-in { from { transform: scale(0.97); opacity: 0; } to { transform: scale(1); opacity: 1; } }
      .animate-scale-in { animation: fade-scale-in var(--duration-medium) var(--ease-decelerate) forwards; }

      @keyframes fade-in-up-stagger { from { opacity: 0; transform: translateY(16px); } to { opacity: 1; transform: translateY(0); } }
      .animate-fade-in-up-stagger {
          animation: fade-in-up-stagger var(--duration-long) var(--ease-decelerate) forwards;
          opacity: 0; /* Set initial state for animation */
      }

      @keyframes checkbox-pop-in { 0% { transform: scale(0.7); opacity: 0; } 60% { transform: scale(1.15); opacity: 1; } 100% { transform: scale(1); } }
      .animate-checkbox-pop { animation: checkbox-pop-in var(--duration-long) var(--ease-overshoot) forwards; }

      /* --- Transitions --- */
      .transition-sidebar { transition: width var(--duration-long) var(--ease-in-out), opacity var(--duration-medium) var(--ease-in-out); }
      .card-hover-effect {
        transition: transform var(--duration-quick) var(--ease-decelerate), box-shadow var(--duration-medium) var(--ease-decelerate), border-color var(--duration-quick) var(--ease-decelerate);
      }
      .card-hover-effect:hover {
        transform: translateY(-4px);
        box-shadow: 0 8px 25px -5px rgba(var(--glow-color-rgb, var(--default-glow-color-rgb, var(--accent-color-rgb))), 0.3);
      }
      .card-selected-style {
        transform: scale(1.02);
        border-color: var(--accent-color);
      }
      
      .note-content {
        white-space: pre-wrap;
        word-wrap: break-word;
      }

      .truncate-note-content {
        display: -webkit-box;
        -webkit-box-orient: vertical;
        -webkit-line-clamp: 7;
        overflow: hidden;
      }
      
      .prose-styles { line-height: 1.6; }
      .prose-styles h1, .prose-styles h2, .prose-styles h3 { margin-top: 1.2em; margin-bottom: 0.6em; font-weight: 600; line-height: 1.2; color: inherit; }
      .prose-styles h1 { font-size: 1.5em; }
      .prose-styles h2 { font-size: 1.25em; }
      .prose-styles h3 { font-size: 1.1em; }
      .prose-styles p { margin-bottom: 1em; }
      .prose-styles ul, .prose-styles ol { margin-left: 1.5em; margin-bottom: 1em; padding-left: 1em;}
      .prose-styles ul { list-style-type: disc; }
      .prose-styles ol { list-style-type: decimal; }
      .prose-styles li { margin-bottom: 0.5em; }
      .prose-styles blockquote { border-left: 4px solid var(--blockquote-border); padding-left: 1em; margin: 1.5em 0; color: var(--blockquote-color); font-style: italic; }
      .prose-styles a { color: var(--link-color); text-decoration: underline; }
      .prose-styles code { background-color: var(--code-bg); color: var(--code-color); padding: 0.2em 0.4em; border-radius: 4px; font-family: monospace; }
      .prose-styles hr { border: none; border-top: 1px solid var(--border-color); margin: 2em 0; }
      .prose-styles input[type="checkbox"] { filter: grayscale(1); cursor: default; }

      /* --- New Pixel Art Animations --- */
      @keyframes slow-bob { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-1px); } }
      @keyframes gentle-sway { 0%, 100% { transform: rotate(-1deg); } 50% { transform: rotate(1deg); } }
      @keyframes slow-steam { from { transform: translateY(0); opacity: 0.6; } to { transform: translateY(-12px); opacity: 0; } }
      @keyframes tv-flicker { 0%, 100% { opacity: 0.8; } 10% { opacity: 0.85; } 20% { opacity: 0.78; } 50% { opacity: 0.9; } 80% { opacity: 0.82; } }
      @keyframes snow-fall { from { transform: translateY(-10px); } to { transform: translateY(64px); } }
      @keyframes fire-flicker { 0%, 100% { transform: scaleY(1); opacity: 1; } 50% { transform: scaleY(0.95); opacity: 0.9; } }
      @keyframes lava-bubble { 0% { transform: translateY(0) scale(1); opacity: 1; } 80% { transform: translateY(-30px) scale(1.1); opacity: 1; } 100% { transform: translateY(-35px) scale(1.1); opacity: 0; } }
      @keyframes fish-swim { 0% { transform: translateX(0) scaleX(1); } 40% { transform: translateX(12px) scaleX(1); } 50% { transform: translateX(12px) scaleX(-1); } 90% { transform: translateX(0) scaleX(-1); } 100% { transform: translateX(0) scaleX(1); } }
      @keyframes candle-flicker-subtle { 0%, 100% { transform: scaleX(1); } 50% { transform: scaleX(0.95); } }
      @keyframes pendulum-swing { 0%, 100% { transform: rotate(-15deg); } 50% { transform: rotate(15deg); } }
      @keyframes typing-keys { 0%, 100% { transform: translateY(0); } 25% { transform: translateY(-1px); } 50% { transform: translateY(0); } 75% { transform: translateY(-1px); } }
      
      /* Added subtle animations for static scenes */
      @keyframes head-nod { 0%, 20%, 100% { transform: translateY(0); } 10% { transform: translateY(-1px); } }
      @keyframes iron-steam { 0% { opacity: 0; transform: translateY(0) scale(0.5); } 20% { opacity: 0.6; } 100% { opacity: 0; transform: translateY(-8px) scale(1.2); } }
      @keyframes eye-glint { 0%, 10%, 100% { opacity: 0; } 5% { opacity: 1; } }
      @keyframes gentle-rock { 0%, 100% { transform: rotate(-2deg); } 50% { transform: rotate(2deg); } }
      @keyframes tea-ripple { 0%, 100% { transform: scale(1, 1); opacity: 0.5; } 50% { transform: scale(1.05, 1.1); opacity: 0.2; } }
      
      /* TV Soccer Animation */
      @keyframes soccer-player-1 {
        0%, 100% { transform: translate(0, 0); }
        25% { transform: translate(6px, 3px); }
        50% { transform: translate(12px, -2px); }
        75% { transform: translate(8px, 5px); }
      }
      @keyframes soccer-player-2 {
        0%, 100% { transform: translate(0, 0); }
        25% { transform: translate(-4px, -4px); }
        50% { transform: translate(-10px, 2px); }
        75% { transform: translate(-6px, -3px); }
      }
      @keyframes soccer-ball {
        0% { transform: translate(0, 0); opacity: 1; }
        45% { transform: translate(18px, 4px); opacity: 1; }
        50% { transform: translate(18px, 4px); opacity: 0; }
        51% { transform: translate(-18px, -4px); opacity: 0; }
        55% { transform: translate(-18px, -4px); opacity: 1; }
        95% { transform: translate(0, 0); opacity: 1; }
        100% { transform: translate(0, 0); opacity: 1; }
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/index.tsx"></script>
  </body>
</html>